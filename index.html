<!DOCTYPE html>
<html lang="en-au">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Melbourne Train Stations — Interactive Visualisations</title>

  <style>
    :root { --maxw: 1100px; }
    body{font-family:system-ui,-apple-system,Segoe UI,Roboto,Ubuntu,Arial,sans-serif;margin:24px;line-height:1.45}
    header, .vis, footer{max-width:var(--maxw);margin:0 auto}
    header h1{margin-bottom:.25rem}
    .grid{display:grid;grid-template-columns:1fr;gap:28px;max-width:var(--maxw);margin:16px auto}
    @media (min-width:1100px){ .grid{grid-template-columns: 1.2fr .8fr;} }
    .card{padding:8px 0}
    small, a{color:#555}
  </style>

  <!-- Vega libraries -->
  <script src="https://cdn.jsdelivr.net/npm/vega@5/build/vega.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/vega-lite@5/build/vega-lite.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/vega-embed@6/build/vega-embed.min.js"></script>
</head>
<body>
  <header>
    <h1>Melbourne Train Stations — Interactive Visualisations</h1>
    <p>Use the controls on each chart to explore the data. The map shows a Victoria outline for context.</p>
  </header>

  <section class="grid">
    <div class="card">
      <h3>Proportional Symbol Map</h3>
      <div id="map" class="vis" aria-label="Map of station patronage"></div>
    </div>

    <div class="card">
      <h3>Top Stations</h3>
      <div id="bars" class="vis" aria-label="Top stations bar chart"></div>
    </div>

    <div class="card">
      <h3>Patronage Heatmap (FY2024–25)</h3>
      <div id="heatmap" class="vis" aria-label="Patronage heatmap"></div>
    </div>

    <div class="card">
      <h3>Monthly Patronage Trends by Mode</h3>
      <div id="trends" class="vis" aria-label="Monthly trends by mode"></div>
    </div>
  </section>

  <footer class="vis">
    <hr>
    <small>
      Sources: PTV Public Transport Stops & Annual metropolitan train station patronage (CSV). Built with Vega-Lite.
    </small>
  </footer>

  <script>
    vegaEmbed('#map',     'map.json',     {actions:false}).catch(console.error);
    vegaEmbed('#bars',    'bars.json',    {actions:false}).catch(console.error);
    vegaEmbed('#heatmap', 'heatmap.json', {actions:false}).catch(console.error);
    vegaEmbed('#trends',  'trends.json',  {actions:false}).catch(console.error);
  </script>
</body>
</html>
